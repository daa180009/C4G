This document outlines the structure of the gameplay, at least within a level. We may eventually implement overarching gameplay across levels that allow the player to unlock new cards, permanent upgrades, etc.. However, that may all be descriped in a different document. Any terms in this document are open to change, but will remain consistent at least within the document.

## Gameplay Structure

### Matches

The main gameplay loop of the game involves completing one match, which is composed of several [rounds](#Rounds).

### Rounds

Each match has several rounds. At the beginning of a round, several [leylines](#Leylines) are created, and a selection of possible [enemy](#Enemy) types is chosen. Once the player sees both of these variables, they are given the choice to spend any amount of [creativity](#Creativity) they have collected to shuffle in additional cards from their [sideboard](#Sideboard) into their [deck](#Deck). The intention is that players will be able to adjust to the new conditions of leylines and enemy types by bringing in cards which are particularly suited against certain configurations.

Once the round starts, enemies will begin spawning; some will spawn independently, while others will appear at roughly the same time in [waves](#Waves). As time progresses, more enemies will spawn at once, until the round culminates in a final large wave of enemies. Once the final enemy is defeated, the round will end.

### Waves

Each round contains multiple waves, which involve large amounts of similar [enemies](#Enemy) spawning nearly simultaneously. A small timeline should appear on screen during each round to show the waves that are planned to arrive, and perhaps which enemies will be present during them. Waves will be more difficult to deal with that individually spawning enemies as enemies will synergistically work together in addition to providing cover for enemies behind them against certain projectiles.

### Cycles

Certain [towers](#Towers) will operate in cycles, which happen approximately every 10 seconds. Most notably, towers which produce [mana](#Mana) will do so at the end of each cycle (there is no meaningful distinction between an end of one cycle and the beginning of the next as they happen simultaneously). Additionally, players will only draw [cards](#Cards) from having sufficient [wisdom](#Wisdom) at the end of a cycle. A cycle can be compared to the *turn* of a traditional card game as it is when the player retrieves their new resources to work with.

## Resources

### Mana

Mana is generated by mana producing [towers](#Towers) at the end of each [cycle](#Cycle) and is spent to cast [cards](#Cards) of each type. Mana can have an elemental affinity to a certain [suit](#Suit), with some cards requiring mana of specific suits to be cast, equivalent to *Magic: The Gathering* colors and similar cost systems. Mana without an affinity for a suit will also be present, and towers which produce this mana will likely be otherwise cheaper.

### Wisdom
Wisdom is dropped by [enemies](#Enemy) when they are defeated. At the end of each cycle, if the player has enough wisdom collected, they will lose that amount of wisdom and draw a [card](#Cards). A bar will be displayed on screen showing the player's Wisdom progress. If the player collects a sufficient amount of wisdom at once, such as defeating a large amount of enemies in one [spell](#Spells), they will still only draw one card per cycle, and will have to wait for the next for the rest of their wisdom to be used. Other than drawing up to [maximum hand size](#MaximumHandSize) at the start of a round, this is the primary method of drawing cards that does not involve using other cards directly.

See [cards](#Cards) for more information, but cards-in-hand is a traditionally understood concept in card games. Essentially, the number of actions a player can take is limited to the number of cards in their hand, so taking actions to draw additional cards can be powerful. Likewise, asking the player to discard cards for an effect is an interesting cost as it essentially uses cards in hand as a direct resource.

### Creativity

Creativity can be earned during waves through [skills](#Skills) and perhaps [towers](#Towers) and is spent at the beginning of a round to add in cards from the player's [sideboard](#Sideboard) into their deck. See the sideboard section for additional information. Since creativity does not allow the player direct access to more options (cards-in-hand) or resources to use those options (mana) it will likely be the easiest resource to acquire. To make creativity more valuable, there will be [advanced cards](#Advanced) which can't be added to the deck at the start of a match directly and instead only added in from the sideboard.

### Life

The player starts with a certain amount of life which is lost whenever an [enemy](#Enemy) reaches an [exit tile](#Exit) based on that enemy's stats. Can also be used as a cost for effects or something to be modified by [skills](#Skills).

## Stage

### Leylines

Lines that form across multiple [tiles](#Tile). At the beginning of each [round](#Rounds), around three new leylines are generated on the stage, with previous leylines being removed. Each leyline goes from an [entrance tile](#Entrance) to an [exit tile](#Exit). Each entrance tile that has a leyline will be designed an active entrance. Over the course of the round, [enemies](#Enemy) will be generated at active entrances that will then walk along the path designated by the leyline towards the exit tile of that leyline. Thus, players can use the leyline to determine what tiles will be exposed to enemies and where to concentrate their defenses.

[Towers](#Towers) which shoot projectiles are best placed along leylines as it allows them a clear shot down the path that enemies are walking. To encourage this playstyle, projectile towers will tend to have bonuses from being placed on leylines.

### Tile

The main building block of the stage. [Towers](#Tower) can only be placed on tiles, and each tile can typically only have on tower. Most [spells](#Spells) require one or more tiles as a target. Each tile has a [tile type](#TileType) that determines which towers can be placed on it, whether leylines can spawn across it, and other effects. 

### Tile Types {#TileType}

* **Floor**: Standard and default tile type. Allows placement of towers and for leylines to be spawned.

* **Raised**: Depicting as rising slightly above floor tiles in height. While towers can be placed here, leylines will never spawn here, meaning they are a prime location to place vulnerable towers such as those which produce [mana](#Mana).

* **Barriers**: Rising higher than raised tiles, barriers do not allow for tower placement or leyline generation. They are mostly identical to walls other than allowing certain projectiles to pass past this. Towers can be strategically placed behind them as cover, although some enemy projectiles will be able to retaliate through them.

* **Walls**: Like barriers, they do not allow towers or leylines, but they also collide with the majority of projectiles.

* **Pits**: Similar to a barrier, in that towers and leylines cannot occupy the tile in most situations. However, some effects which cause knowback to enemies can be combined with the pit to great effect.

* **Entrances**: Visually similar to a floor tile. The starting point of a [leyline](#Leyline); up to three entrances are used each round for the three leylines which, so many will be inactive. Towers cannot be placed on entrances but most [spells](#Spells) can still impact the tile.

* **Exits**: Similar to the entrance, as it is used for leyline generation and towers cannot be placed on it. An enemy reaching an exit results in the player losing [life](#Life).

## Cards Basics

### Cards

The player plays cards in their [hand](#Hand) to perform most game actions. To acquire more cards, the player can collect [wisdom](#Wisdom) by defeating enemies, wait until the end of the round for their [maximum hand size](#MaximumHandSize) to be refilled, or use [skills](#Skills) or other cards which directly draw additional cards, often for a cost. The player can also use a variety of skills for card selection, or the concept of having more control over which of the cards in their deck they have in their hand so they can better respond to a certain situation or find their most powerful cards.

If a player would draw a card while they have no cards in their deck, instead they shuffle their discard zone and it becomes their new deck, then they draw a card. If they have no cards in their discard zone, instead nothing occurs.

### Maximum Hand Size {#MaximumHandSize}

The maximum number of [cards](#Cards) the player can have in hand while still drawing cards. If the player is at maximum hand size and would draw cards from an effecct like a [skill](#Skills), they instead gain some amount of [wisdom](#Wisdom), typically less than is needed to draw a card. Likewise, if a [cycle](#Cycle) ends while a player has enough wisdom, nothing happens (they don't lose the wisdom). Potentially, a feature could be implemented to punish OR reward a player for attempting a card draw while at maximum hand size. Some effects can modify the player's current maximum hand size.

Additionally, at the start of each [round](#Round), the player discards their current hand and draws cards until they reach maximum hand size.

## Card Types

### Tower

The most common type of card, using this card places a tower in the stage which will provide some sort of recurring benefit and which will interact with the rest of the stage. See [Permanent Tower](#PermanentTower) for more information on towers once they are present on the stage. The tower card itself will essentially be stored on the permanent tower, technically existing in the [limbo zone](#Limbo) until either the tower is destroyed (placing the card into [exile](#Exile)) or the tower is explicitly put into another card zone, which actually puts the tower card into that zone.

### Spell

Instantly causes an effect on the stage itself, usually in the form of damaging [enemies](#Enemy) or buffing the player's [towers](#Tower) in some way. Also used for longer lasting terrain effects that reach beyond multiple tiles, unlike towers which only ever exist on one. May include other [card effects](#CardEffects) in addition to their effect. In order to affect the stage, they always require a target, similar to choosing which [tile](#Tile) to place a tower on, although they may also choose a specific enemy or tower as a target.

### Skill

Similar to spells as they have instant [card effects](#CardEffects), but differ in never requiring a target. This means they typically do not affect the stage directly and instead offer card selection or advantage, zone manipulation, buffs or debuffs to the player, or resource creation or transformation.

## Cards Zones

### Deck

The player's deck is both the list of cards composed of cards they own, and the card zone which starts each match with each of the cards in their deck list. Whenever the player draws a card, they do so from the top card of their deck. Players cannot see the order of their deck, although it remains consistent. Many [skills](#Skills) and other effects can somehow rearrange cards from their deck, such [scrying](#Scry). Additionally, effects which add cards into the deck, most notably using [creativity](#Creativity) to add in cards from the [sideboard](#Sideboard), usually include shuffling.

### Sideboard

Similar to the deck in that it is composed of cards which were selected from the player's collection at the beginning of the match. At the beginning of each round besiddes the first, the player may spend [creativity](#Creativity) to bring in cards from the sideboard into their deck. If they do so, they shuffle afterwards. some additional effects may allow the player to put a card from the sideboard directly into another zone; as a rule, these also cost creativity.

### Hand

The zone with cards that can be played naturally by the player. Drawing cards puts them directly into hand. It is limited by the [maximum hand size](#MaximumHandSize).

### Discard

After a [skill](#Skill) or [spell](#Spell) finishes resolving, its card goes to the discard zone. It is also the zone for cards which are discarded from a player's hand for an effect, to pay a cost, or at the end of each round. If a player would draw a card while their [deck](#Deck) is empty, instead they shuffle their discard zone and it becomes their new deck. Many effects allow the player to [retrieve](#Retrieve) cards from their discard pile directly into hand or into exile.

### Exile

Primarily the zone for the cards of [towers](#Towers) which are destroyed in some manner, usually by enemies, or by [spells](#Spells) or [skills](#Skills) with [exhaust](#Exhaust). Once a card enters exile, it can **never** be retrieved.

### Limbo

The technical card zone for cards that are not in any of the other zones; primarily for cards that are currently resolving, or for cards representing [towers](#Towers) already on the stage. Some effects may bring a card into limbo then allow the player to [retrieve](#Retrieve) it later, in a manner similar to how *exile* is commonly used in *Magic: The Gathering*; this games [exile](#Exile) zone is never used for such effects.

## Card Effects {#CardEffects}

These effects occur upon the resolution of a [skill](#Skill) or less commonly a [spell](#Spell) or even as part of the effect of a [tower](#Tower).

* **Retrieve a card from a zone into another zone**: Put that card from one zone into another, typically into hand.

* **Return a tower into another zone**: Removes a tower from the stage and puts its tower card into a zone. Typically returns the tower card to hand.

* **Scry a number**: Look at the top X cards of your deck, then put one on top of your deck and the rest on the bottom of your deck. Inspired by, but different from, *Magic: The Gathering* scrying, since it doesn't allow you to choose multiple for higher values of scry. Offers valuable card selection.

* **Exhaust a card**: Put that card into the exile zone. Powerful cards will often exhaust themselves as part of their effect text, especially those that might otherwise be to strong with recursion effects. Other cards which allow for recursion will exhaust the card they are recurring after its effect occurs.

## Enemies